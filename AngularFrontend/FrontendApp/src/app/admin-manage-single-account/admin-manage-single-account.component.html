
<div class="container">
    <div class="jumbotron" style="margin-top: 20px;">

        <form (ngSubmit)="updateRole(user)" [formGroup]="secondForm">
            <div *ngIf="user.role !== 'ROLE_UNDEFINED'">
                <p class="lead">You can set this only once (the first time)</p>
                <select formControlName="role">
                    <option value="ROLE_ADMIN">ADMIN</option>
                    <option value="ROLE_MODERATOR">MODERATOR</option>
                    <option selected value="ROLE_FORUM">FORUM USER</option>
                </select>
                <button type="submit">Submit</button>
            </div>
        </form>
        

        <form (ngSubmit)="updatePermissions()" [formGroup]="firstForm">
            <h1 class="display-4">Manage permissions for user {{ user.username }}</h1>
            <p class="lead">User mail: {{ user.email }}</p>
    
            <p class="lead mt-20">Manage permissions:</p>
            
                <div>
                    <select formControlName="room">
                        <option *ngFor="let room of rooms" value="{{room.id}}">{{room.name}}</option>
                    </select>
                </div>
                
                <div class="form-check">
                    <input formControlName="create" class="form-check-input" type="checkbox">
                    <label class="form-check-label">Create</label>
                </div>
    
                <div class="form-check">
                    <input formControlName="update" class="form-check-input" type="checkbox">
                    <label class="form-check-label">Update</label>
                </div>
    
                <div class="form-check">
                    <input formControlName="delete" class="form-check-input" type="checkbox">
                    <label class="form-check-label">Delete</label>
                </div>
    
            <button [disabled]="firstForm.invalid" type="submit" class="btn btn-primary">Submit</button>
        </form>
    </div>
    
    
</div>
